(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[485],{9190:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/member/edit-profile",function(){return n(314)}])},314:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return x}});var r=n(4051),a=n.n(r),i=n(5893),o=n(7294);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){l(e,t,n[t])}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function u(e){var t=e.title,n=s(e,["title"]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("label",{htmlFor:"name",className:"form-label text-lg fw-medium color-palette-1 mb-10",children:t}),(0,i.jsx)("input",c({type:"text",className:"form-control rounded-pill text-lg",id:"name",name:"name","aria-describedby":"name",placeholder:"Enter your name"},n))]})}var m=n(8706),p=n(1955),f=n(6245),d=n(4305),b=n(782),h=n(1163);function v(e,t,n,r,a,i,o){try{var l=e[i](o),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(r,a)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){g(e,t,n[t])}))}return e}function x(){var e=(0,h.useRouter)(),t=(0,o.useState)(null),n=t[0],r=t[1],l=(0,o.useState)({username:"",email:"",phoneNumber:"",avatar:""}),c=l[0],s=l[1];(0,o.useEffect)((function(){var e=p.Z.get("token");if(e){var t=atob(e),n=(0,f.Z)(t);s(n.player)}}),[]);var g="".concat("https://hambahedon.herokuapp.com/uploads","/").concat(c.avatar),x=function(){var t,n=(t=a().mark((function t(){var n,r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=new FormData).append("image",c.avatar),n.append("name",c.username),n.append("phoneNumber",c.phoneNumber),t.next=6,(0,d.ck)(n);case 6:(r=t.sent).error?b.Am.error(r.error):(b.Am.success(" berhasil update akun"),p.Z.remove("token"),e.push("/sign-in"));case 8:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,a){var i=t.apply(e,n);function o(e){v(i,r,a,o,l,"next",e)}function l(e){v(i,r,a,o,l,"throw",e)}o(void 0)}))});return function(){return n.apply(this,arguments)}}();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(m.Z,{ActiveSidebar:"setting"}),(0,i.jsx)("section",{className:"edit-profile overflow-auto",children:(0,i.jsx)("main",{className:"main-wrapper",children:(0,i.jsxs)("div",{className:"ps-lg-0",children:[(0,i.jsx)("h2",{className:"text-4xl fw-bold color-palette-1 mb-30",children:"Settings"}),(0,i.jsx)("div",{className:"bg-card pt-30 ps-30 pe-30 pb-30",children:(0,i.jsxs)("form",{action:"",children:[(0,i.jsx)("div",{className:"photo d-flex",children:(0,i.jsxs)("div",{className:"image-upload",children:[(0,i.jsx)("label",{htmlFor:"avatar",children:n?(0,i.jsx)("img",{src:n,width:"90",height:"90",style:{borderRadius:"100%"}}):(0,i.jsx)("img",{src:g,width:"90",height:"90",style:{borderRadius:"100%"}})}),(0,i.jsx)("input",{id:"avatar",type:"file",name:"avatar",accept:"image/png, image/jpeg",onChange:function(e){var t=e.target.files[0];r(URL.createObjectURL(t)),s(j({},c,{avatar:t}))}})]})}),(0,i.jsx)("div",{className:"pt-30",children:(0,i.jsx)(u,{title:"Email Address",value:c.email,disabled:!0})}),(0,i.jsx)("div",{className:"pt-30",children:(0,i.jsx)(u,{title:"Full Name",value:c.username,onChange:function(e){return s(j({},c,{username:e.target.value}))}})}),(0,i.jsx)("div",{className:"pt-30",children:(0,i.jsx)(u,{title:"Phone",value:c.phoneNumber,onChange:function(e){s(j({},c,{phoneNumber:e.target.value}))}})}),(0,i.jsx)("div",{className:"button-group d-flex flex-column pt-50",children:(0,i.jsx)("button",{type:"button",className:"btn btn-save fw-medium text-lg text-white rounded-pill",onClick:x,children:"Save My Profile"})})]})})]})})})]})}}},function(e){e.O(0,[873,842,785,774,888,179],(function(){return t=9190,e(e.s=t);var t}));var t=e.O();_N_E=t}]);